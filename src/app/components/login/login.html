<!-- <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div>
        <label for="email"></label>
        <input id="email" formControlName="email" placeholder="Email">
    </div>
    <div>
        <label for="password"></label>
        <input id="password" type="password" formControlName="password" placeholder="Password">
          
    </div>
@if (errorMsg) {
      <div>
        {{ errorMsg }}
      </div>
    }
    <button type="submit" [disabled]="loginForm.invalid">Login</button>

    <span>You don't have an account? 
        <a routerLink="/register">Register here</a>
    </span>
</form> -->


<div class="login-container">
    <!-- Animated Background -->
    <div class="background-animation">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
    </div>

    <!-- Login Card -->
    <div class="login-card">
        <!-- Logo & Title Section -->
        <div class="header-section">
            <div class="logo-container">
                <mat-icon class="logo-icon">rocket_launch</mat-icon>
            </div>
            <h1 class="app-title">TaskPilot</h1>
            <p class="app-subtitle">All Your Work. One Place.</p>
        </div>

        <!-- Login Form -->
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">

            <!-- Email Field -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Email Address</mat-label>
                <input matInput type="email" formControlName="email" placeholder="name@company.com"
                    autocomplete="email">
                <mat-icon matPrefix>email</mat-icon>
                @if(loginForm.get('email')?.invalid && loginForm.get('email')?.touched)
                {
                <mat-error>{{ getEmailErrorMessage() }}</mat-error>
                }

            </mat-form-field>

            <!-- Password Field -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Password</mat-label>
                <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password"
                    placeholder="Enter your password" autocomplete="current-password">
                <mat-icon matPrefix>lock</mat-icon>
                <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
                    <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                @if(loginForm.get('password')?.invalid && loginForm.get('password')?.touched)
                {
                <mat-error>{{ getPasswordErrorMessage() }}</mat-error>
                }

            </mat-form-field>




            <!-- Submit Button -->
            <button mat-raised-button type="submit" class="login-button" [disabled]="loginForm.invalid || isLoading">
                @if(!isLoading)
                {
                <span class="button-content">
                    <mat-icon>login</mat-icon>
                    <span>Sign In</span>
                </span>
                }

                <mat-spinner *ngIf="isLoading" diameter="24" class="button-spinner">
                </mat-spinner>
            </button>

            <!-- Divider -->
            <div class="divider">
                <span class="divider-text">OR</span>
            </div>

            <!-- Register Link -->
            <div class="register-section">
                <p class="register-text">
                    Don't have an account?
                    <a routerLink="/register" class="register-link">
                        Create one now
                        <mat-icon class="link-icon">arrow_forward</mat-icon>
                    </a>
                </p>
            </div>

        </form>

        <!-- Footer -->
        <div class="footer-section">
            <p class="footer-text">
                <mat-icon class="footer-icon">shield</mat-icon>
                Your data is secure and encrypted
            </p>
        </div>
    </div>
</div>