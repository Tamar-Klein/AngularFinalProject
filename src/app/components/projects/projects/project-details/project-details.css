@import url('https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;500;600;700&family=Satoshi:wght@400;500;700&display=swap');

:host {
    /* --- Theme Variables --- */
    --bg-page: #ffffff;
    --grid-line: rgba(0, 0, 0, 0.04);
    --primary-color: #8b5cf6;
    --text-dark: #1e293b;
    --text-muted: #64748b;
    --font-display: 'Clash Display', sans-serif;
    --font-body: 'Satoshi', sans-serif;

    display: flex;
    flex-direction: column;
    height: 100vh; /* תופס את כל הגובה */
    width: 100%;
    overflow: hidden; /* מונע גלילה ראשית של העמוד */
    background-color: var(--bg-page);
    font-family: var(--font-body);
    
    /* Background Grid */
    background-image: 
        linear-gradient(var(--grid-line) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
    background-size: 50px 50px;
}

/* ================= BACKGROUND SHAPES ================= */
.background-shapes {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    overflow: hidden; pointer-events: none; z-index: 0;
}
.shape { position: absolute; border-radius: 50%; filter: blur(120px); opacity: 0.5; }
.shape-1 { background: #e9d5ff; width: 600px; height: 600px; top: -10%; right: -10%; }
.shape-2 { background: #fbcfe8; width: 400px; height: 400px; bottom: 0%; left: 0%; }

/* ================= HEADER SECTION ================= */
.project-header-wrapper {
    position: relative;
    z-index: 10;
    padding: 24px 32px;
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid #e2e8f0;
    flex-shrink: 0; /* מונע מההידר להתכווץ */
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.info h1 {
    font-family: var(--font-display);
    font-size: 32px;
    font-weight: 600;
    color: var(--text-dark);
    margin: 0 0 8px 0;
}

.description {
    color: var(--text-muted);
    font-size: 15px;
    max-width: 600px;
    line-height: 1.5;
    margin-bottom: 16px;
}

/* Meta Data Badges */
.meta {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.badge {
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Status Colors */
.badge[data-status="active"] { background: #ecfdf5; color: #10b981; border: 1px solid #d1fae5; }
.badge[data-status="completed"] { background: #eff6ff; color: #3b82f6; border: 1px solid #dbeafe; }
.badge[data-status="on-hold"] { background: #fffbeb; color: #f59e0b; border: 1px solid #fef3c7; }

.team-badge, .date-badge {
    background: white;
    border: 1px solid #e2e8f0;
    color: var(--text-muted);
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    display: flex; align-items: center; gap: 6px;
}

.meta-icon { font-size: 16px; width: 16px; height: 16px; }

/* ================= TASKS SECTION (The Fix) ================= */
.tasks-section {
    flex: 1; /* לוקח את כל המקום שנשאר אחרי ההידר */
    position: relative;
    z-index: 5;
    overflow: hidden; /* מסתיר גלילה חיצונית */
    padding-top: 10px;
}

/* זה הטריק: אנחנו דורסים את העיצוב של הקומפוננטה הבת (TaskBoard)
   כדי שתתאים לגובה של הקונטיינר הזה ולא תהיה 100vh
*/
::ng-deep app-task-board .board-wrapper {
    height: 100% !important; /* מתאים את עצמו להורה */
    background: transparent !important; /* משתמש ברקע של העמוד הראשי */
    padding-top: 0 !important; /* ביטול ריווחים כפולים אם יש */
}

/* מסתיר את הכותרת של ה-Board כי יש לנו כותרת פרויקט */
::ng-deep app-task-board .board-header h1 {
    display: none; 
}
::ng-deep app-task-board .board-header p {
    display: none; 
}

/* התאמה של הגלילה הפנימית בלוח */
::ng-deep app-task-board .board-container {
    padding-bottom: 20px !important;
    height: calc(100% - 60px) !important; /* משאיר מקום לכפתור הוספה */
}