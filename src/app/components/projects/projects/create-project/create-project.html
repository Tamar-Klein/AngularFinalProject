<div class="page-container">
    <div class="background-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
    </div>

    <div class="content-wrapper">
        <mat-card class="create-card">
            <div class="card-decoration"></div>
            
            <mat-card-header>
                <div class="icon-wrapper">
                    <mat-icon>add_task</mat-icon>
                </div>
                <mat-card-title>Create New Project</mat-card-title>
                <mat-card-subtitle>Launch a new initiative for your team</mat-card-subtitle>
            </mat-card-header>

            <mat-card-content>
                <form [formGroup]="createProjectForm" (ngSubmit)="onSubmit()" class="project-form">
                    
                    <div class="form-group">
                        <label class="input-label">Team ID</label>
                        <mat-form-field appearance="outline" class="custom-field">
                            <mat-icon matPrefix>groups</mat-icon>
                            <input matInput id="teamId" formControlName="teamId" (blur)="isTeamIdInvalid()" placeholder="Enter Team ID">
                            
                            @if (isTeamIdInvalid()) {
                                <mat-error>
                                    <mat-icon class="error-icon">warning</mat-icon>
                                    No team found with this ID
                                </mat-error>
                            }
                            @if (createProjectForm.get('teamId')?.hasError('required')) {
                                <mat-error>Team ID is required</mat-error>
                            }
                        </mat-form-field>
                    </div>
                  
                    <div class="form-group">
                        <label class="input-label">Project Name</label>
                        <mat-form-field appearance="outline" class="custom-field">
                            <mat-icon matPrefix>label</mat-icon>
                            <input matInput id="name" formControlName="name" placeholder="Ex: Website Redesign">
                            @if (createProjectForm.get('name')?.hasError('required')) {
                                <mat-error>Project name is required</mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="form-group">
                        <label class="input-label">Description</label>
                        <mat-form-field appearance="outline" class="custom-field">
                            <mat-icon matPrefix class="textarea-icon">description</mat-icon>
                            <textarea matInput id="description" formControlName="description" rows="4" placeholder="Describe the project goals..."></textarea>
                            @if (createProjectForm.get('description')?.hasError('required')) {
                                <mat-error>Description is required</mat-error>
                            }
                        </mat-form-field>
                    </div>

                    <div class="form-actions">
                        <a routerLink="/projects" mat-button class="cancel-btn">Cancel</a>
                        <button mat-flat-button type="submit" class="submit-btn" 
                                [disabled]="createProjectForm.invalid || isTeamIdInvalid()">
                            Create Project
                            <mat-icon iconPositionEnd>rocket_launch</mat-icon>
                        </button>
                    </div>

                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>